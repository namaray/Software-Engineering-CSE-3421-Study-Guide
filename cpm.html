<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPM Detailed Study Notes</title>
    <style>
        /* --- CPM THEME (PURPLE) --- */
        :root {
            --bg-color: #f4f6f8;
            --text-color: #333;
            --accent-purple: #8e44ad;
            --light-purple: #f5eef8;
            --critical-red: #e74c3c;
            --calc-bg: #fff;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            padding: 40px 20px;
        }

        .container {
            max-width: 950px;
            margin: 0 auto;
            background: white;
            padding: 50px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border-top: 6px solid var(--accent-purple);
        }

        .back-link {
            text-decoration: none;
            color: #7f8c8d;
            font-weight: bold;
            font-size: 0.9rem;
            display: inline-block;
            margin-bottom: 20px;
        }
        .back-link:hover { color: var(--accent-purple); }

        h1 { font-size: 2.5rem; margin-top: 0; color: #2c3e50; }
        h2 { 
            color: var(--accent-purple); 
            border-bottom: 2px solid var(--light-purple); 
            padding-bottom: 10px; 
            margin-top: 40px;
        }
        h3 { color: #2c3e50; margin-bottom: 10px; }

        /* Calculation Steps Box */
        .step-box {
            background: var(--calc-bg);
            border-left: 4px solid var(--accent-purple);
            padding: 15px 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .step-box strong { color: var(--accent-purple); }
        .step-box .formula {
            display: block;
            font-family: monospace;
            background: #eee;
            padding: 5px 10px;
            margin: 5px 0;
            border-radius: 4px;
            width: fit-content;
        }

        /* SVG Styles */
        svg {
            width: 100%;
            height: auto;
            font-family: sans-serif;
            font-size: 12px;
        }
        
        /* Node Box Styling inside SVG */
        .node-rect { fill: #fff; stroke: #333; stroke-width: 1.5; }
        .node-line { stroke: #333; stroke-width: 1; }
        .node-header { fill: #f0f0f0; }
        .critical-node rect { stroke: var(--critical-red); stroke-width: 2.5; }
        .critical-node .node-header { fill: #fadbd8; }
        .critical-text { fill: var(--critical-red); font-weight: bold; }
        
        /* Text Colors */
        .text-es { fill: #2980b9; font-weight: bold; }
        .text-ef { fill: #2980b9; font-weight: bold; }
        .text-ls { fill: #d35400; font-weight: bold; }
        .text-lf { fill: #d35400; font-weight: bold; }
        .text-name { font-weight: bold; font-size: 14px; text-transform: uppercase; }

        /* Arrows */
        .arrow { stroke: #555; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
        .critical-arrow { stroke: var(--critical-red); stroke-width: 3; marker-end: url(#arrowhead-crit); }

    </style>
</head>
<body>

    <div class="container">
        <a href="index.html" class="back-link">← Back to Index</a>
        
        <h1>Critical Path Method (CPM)</h1>
        <p>A step-by-step guide to calculating the project schedule, identifying the critical path, and calculating float.</p>

        <!-- LEGEND -->
        <div style="background: #eee; padding: 15px; border-radius: 8px; display: flex; align-items: center; gap: 20px;">
            <div style="width: 140px;">
                <!-- Mini SVG for Legend -->
                <svg viewBox="0 0 120 70" style="background:white; border:1px solid #ccc;">
                    <rect x="10" y="10" width="100" height="50" fill="white" stroke="black" stroke-width="2"/>
                    <line x1="10" y1="26" x2="110" y2="26" stroke="black"/>
                    <line x1="10" y1="42" x2="110" y2="42" stroke="black"/>
                    <line x1="43" y1="10" x2="43" y2="60" stroke="black"/>
                    <line x1="77" y1="10" x2="77" y2="60" stroke="black"/>
                    
                    <text x="26" y="22" text-anchor="middle" font-size="9" fill="#2980b9">ES</text>
                    <text x="60" y="22" text-anchor="middle" font-size="9">Dur</text>
                    <text x="94" y="22" text-anchor="middle" font-size="9" fill="#2980b9">EF</text>
                    
                    <text x="60" y="38" text-anchor="middle" font-weight="bold" font-size="10">NAME</text>
                    
                    <text x="26" y="55" text-anchor="middle" font-size="9" fill="#d35400">LS</text>
                    <text x="60" y="55" text-anchor="middle" font-size="9">Float</text>
                    <text x="94" y="55" text-anchor="middle" font-size="9" fill="#d35400">LF</text>
                </svg>
            </div>
            <div>
                <strong>The 6-Box Node Legend:</strong><br>
                <span style="color:#2980b9">Top Row (Blue):</span> Forward Pass (Earliest Start/Finish)<br>
                <span style="color:#333">Middle Row:</span> Activity Name<br>
                <span style="color:#d35400">Bottom Row (Orange):</span> Backward Pass (Latest Start/Finish) & Float
            </div>
        </div>

        <!-- SECTION 1: FORWARD PASS -->
        <h2>Step 1: Forward Pass (Calculate Earliest Times)</h2>
        <p>Start from the beginning (Left) and move to the end (Right).</p>
        
        <div class="step-box">
            <span class="formula">ES = Max(Predecessor EF)</span>
            <span class="formula">EF = ES + Duration</span>
            <br>
            <strong>The "Merge" Rule:</strong> If an activity has multiple incoming arrows (predecessors), you must pick the <strong>HIGHEST</strong> EF value from them. You cannot start until <em>all</em> previous tasks are done.
        </div>

        <div class="step-box">
            <h3>Detailed Calculation:</h3>
            <ul>
                <li><strong>Start (A, B, F):</strong> All start at 0.</li>
                <li><strong>Node C:</strong> Depends on A (EF=6). So C starts at 6. Finishes at 6+3 = 9.</li>
                <li><strong>Node D:</strong> Depends on B (EF=4). So D starts at 4. Finishes at 4+4 = 8.</li>
                <li><strong>Node E:</strong> Depends on B (EF=4). So E starts at 4. Finishes at 4+3 = 7.</li>
                <li><strong>Node G (MERGE):</strong> Depends on E (EF=7) AND F (EF=10).<br>
                    Logic: We must wait for the longest one. Max(7, 10) = 10.<br>
                    <em>Result:</em> G starts at 10. Finishes at 10+3 = 13.
                </li>
                <li><strong>Node H (MERGE):</strong> Depends on C (EF=9) AND D (EF=8).<br>
                    Logic: Max(9, 8) = 9.<br>
                    <em>Result:</em> H starts at 9. Finishes at 9+2 = 11.
                </li>
            </ul>
            <p><strong>Project Duration:</strong> The project finishes when the last task finishes. Max(G=13, H=11) = <strong>13 Weeks</strong>.</p>
        </div>

        <!-- SECTION 2: BACKWARD PASS -->
        <h2>Step 2: Backward Pass (Calculate Latest Times)</h2>
        <p>Start from the end (Right) and move to the beginning (Left).</p>

        <div class="step-box">
            <span class="formula">LF = Min(Successor LS)</span>
            <span class="formula">LS = LF - Duration</span>
            <br>
            <strong>The "Burst" Rule:</strong> If an arrow splits to multiple successors, you must pick the <strong>LOWEST</strong> LS value from them. You must finish early enough to satisfy <em>all</em> future deadlines.
        </div>

        <div class="step-box">
            <h3>Detailed Calculation:</h3>
            <ul>
                <li><strong>Set End Date:</strong> The project takes 13 weeks. So, for the final nodes (G, H), set LF = 13.</li>
                <li><strong>Node G:</strong> LF=13. Duration=3. LS = 13-3 = 10.</li>
                <li><strong>Node H:</strong> LF=13 (Note: Even though H finished early at 11, the project deadline allows it to finish as late as 13). LS = 13-2 = 11.</li>
                <li><strong>Node F:</strong> Arrow goes to G. G's LS is 10.<br>
                    <em>Result:</em> F's LF is 10. LS = 10-10 = 0.
                </li>
                <li><strong>Node B (BURST):</strong> Arrow goes to D (LS=7) AND E (LS=7).<br>
                    Logic: Min(7, 7) = 7.<br>
                    <em>Result:</em> B's LF is 7. LS = 7-4 = 3.
                </li>
            </ul>
        </div>

        <!-- SECTION 3: FINAL DIAGRAM -->
        <h2>Step 3: The Complete Diagram & Critical Path</h2>
        <p><strong>Critical Path:</strong> The path where Float = 0 (Top numbers == Bottom numbers). Any delay here delays the project.</p>

        <div style="overflow-x: auto; border: 1px solid #ddd; padding: 10px;">
            <svg viewBox="0 0 800 400">
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#555" />
                    </marker>
                    <marker id="arrowhead-crit" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c" />
                    </marker>
                </defs>

                <!-- 
                   Layout:
                   Col 1 (x=50): A(y=50), B(y=160), F(y=270)
                   Col 2 (x=300): C(y=50), D(y=160), E(y=270)
                   Col 3 (x=550): H(y=100), G(y=270)
                -->

                <!-- CONNECTIONS (Drawn first so they are behind boxes) -->
                <!-- A -> C -->
                <line x1="170" y1="80" x2="300" y2="80" class="arrow" />
                <!-- B -> D -->
                <line x1="170" y1="190" x2="300" y2="190" class="arrow" />
                <!-- B -> E -->
                <line x1="170" y1="190" x2="300" y2="300" class="arrow" />
                <!-- C -> H -->
                <line x1="420" y1="80" x2="550" y2="130" class="arrow" />
                <!-- D -> H -->
                <line x1="420" y1="190" x2="550" y2="130" class="arrow" />
                <!-- E -> G -->
                <line x1="420" y1="300" x2="550" y2="300" class="arrow" />
                
                <!-- CRITICAL PATH CONNECTIONS (Red) -->
                <!-- F -> G -->
                <path d="M 170 300 C 230 300, 480 300, 550 300" fill="none" class="critical-arrow" />

                <!-- NODES -->

                <!-- NODE A -->
                <g transform="translate(50, 50)">
                    <rect x="0" y="0" width="120" height="60" class="node-rect" />
                    <rect x="0" y="20" width="120" height="20" class="node-header" />
                    <line x1="0" y1="20" x2="120" y2="20" class="node-line" />
                    <line x1="0" y1="40" x2="120" y2="40" class="node-line" />
                    <line x1="40" y1="0" x2="40" y2="60" class="node-line" />
                    <line x1="80" y1="0" x2="80" y2="60" class="node-line" />
                    <!-- Data -->
                    <text x="20" y="15" text-anchor="middle" class="text-es">0</text>
                    <text x="60" y="15" text-anchor="middle">6</text>
                    <text x="100" y="15" text-anchor="middle" class="text-ef">6</text>
                    <text x="60" y="35" text-anchor="middle" class="text-name">A</text>
                    <text x="20" y="55" text-anchor="middle" class="text-ls">2</text>
                    <text x="60" y="55" text-anchor="middle">2</text>
                    <text x="100" y="55" text-anchor="middle" class="text-lf">8</text>
                </g>

                <!-- NODE B -->
                <g transform="translate(50, 160)">
                    <rect x="0" y="0" width="120" height="60" class="node-rect" />
                    <rect x="0" y="20" width="120" height="20" class="node-header" />
                    <line x1="0" y1="20" x2="120" y2="20" class="node-line" />
                    <line x1="0" y1="40" x2="120" y2="40" class="node-line" />
                    <line x1="40" y1="0" x2="40" y2="60" class="node-line" />
                    <line x1="80" y1="0" x2="80" y2="60" class="node-line" />
                    <!-- Data -->
                    <text x="20" y="15" text-anchor="middle" class="text-es">0</text>
                    <text x="60" y="15" text-anchor="middle">4</text>
                    <text x="100" y="15" text-anchor="middle" class="text-ef">4</text>
                    <text x="60" y="35" text-anchor="middle" class="text-name">B</text>
                    <text x="20" y="55" text-anchor="middle" class="text-ls">3</text>
                    <text x="60" y="55" text-anchor="middle">3</text>
                    <text x="100" y="55" text-anchor="middle" class="text-lf">7</text>
                </g>

                <!-- NODE F (CRITICAL) -->
                <g transform="translate(50, 270)" class="critical-node">
                    <rect x="0" y="0" width="120" height="60" class="node-rect" />
                    <rect x="0" y="20" width="120" height="20" class="node-header" />
                    <line x1="0" y1="20" x2="120" y2="20" class="node-line" />
                    <line x1="0" y1="40" x2="120" y2="40" class="node-line" />
                    <line x1="40" y1="0" x2="40" y2="60" class="node-line" />
                    <line x1="80" y1="0" x2="80" y2="60" class="node-line" />
                    <!-- Data -->
                    <text x="20" y="15" text-anchor="middle" class="text-es">0</text>
                    <text x="60" y="15" text-anchor="middle">10</text>
                    <text x="100" y="15" text-anchor="middle" class="text-ef">10</text>
                    <text x="60" y="35" text-anchor="middle" class="text-name critical-text">F</text>
                    <text x="20" y="55" text-anchor="middle" class="text-ls">0</text>
                    <text x="60" y="55" text-anchor="middle" class="critical-text">0</text>
                    <text x="100" y="55" text-anchor="middle" class="text-lf">10</text>
                </g>

                <!-- NODE C -->
                <g transform="translate(300, 50)">
                    <rect x="0" y="0" width="120" height="60" class="node-rect" />
                    <rect x="0" y="20" width="120" height="20" class="node-header" />
                    <line x1="0" y1="20" x2="120" y2="20" class="node-line" />
                    <line x1="0" y1="40" x2="120" y2="40" class="node-line" />
                    <line x1="40" y1="0" x2="40" y2="60" class="node-line" />
                    <line x1="80" y1="0" x2="80" y2="60" class="node-line" />
                    <!-- Data -->
                    <text x="20" y="15" text-anchor="middle" class="text-es">6</text>
                    <text x="60" y="15" text-anchor="middle">3</text>
                    <text x="100" y="15" text-anchor="middle" class="text-ef">9</text>
                    <text x="60" y="35" text-anchor="middle" class="text-name">C</text>
                    <text x="20" y="55" text-anchor="middle" class="text-ls">8</text>
                    <text x="60" y="55" text-anchor="middle">2</text>
                    <text x="100" y="55" text-anchor="middle" class="text-lf">11</text>
                </g>

                <!-- NODE D -->
                <g transform="translate(300, 160)">
                    <rect x="0" y="0" width="120" height="60" class="node-rect" />
                    <rect x="0" y="20" width="120" height="20" class="node-header" />
                    <line x1="0" y1="20" x2="120" y2="20" class="node-line" />
                    <line x1="0" y1="40" x2="120" y2="40" class="node-line" />
                    <line x1="40" y1="0" x2="40" y2="60" class="node-line" />
                    <line x1="80" y1="0" x2="80" y2="60" class="node-line" />
                    <!-- Data -->
                    <text x="20" y="15" text-anchor="middle" class="text-es">4</text>
                    <text x="60" y="15" text-anchor="middle">4</text>
                    <text x="100" y="15" text-anchor="middle" class="text-ef">8</text>
                    <text x="60" y="35" text-anchor="middle" class="text-name">D</text>
                    <text x="20" y="55" text-anchor="middle" class="text-ls">7</text>
                    <text x="60" y="55" text-anchor="middle">3</text>
                    <text x="100" y="55" text-anchor="middle" class="text-lf">11</text>
                </g>

                <!-- NODE E -->
                <g transform="translate(300, 270)">
                    <rect x="0" y="0" width="120" height="60" class="node-rect" />
                    <rect x="0" y="20" width="120" height="20" class="node-header" />
                    <line x1="0" y1="20" x2="120" y2="20" class="node-line" />
                    <line x1="0" y1="40" x2="120" y2="40" class="node-line" />
                    <line x1="40" y1="0" x2="40" y2="60" class="node-line" />
                    <line x1="80" y1="0" x2="80" y2="60" class="node-line" />
                    <!-- Data -->
                    <text x="20" y="15" text-anchor="middle" class="text-es">4</text>
                    <text x="60" y="15" text-anchor="middle">3</text>
                    <text x="100" y="15" text-anchor="middle" class="text-ef">7</text>
                    <text x="60" y="35" text-anchor="middle" class="text-name">E</text>
                    <text x="20" y="55" text-anchor="middle" class="text-ls">7</text>
                    <text x="60" y="55" text-anchor="middle">3</text>
                    <text x="100" y="55" text-anchor="middle" class="text-lf">10</text>
                </g>

                <!-- NODE H -->
                <g transform="translate(550, 100)">
                    <rect x="0" y="0" width="120" height="60" class="node-rect" />
                    <rect x="0" y="20" width="120" height="20" class="node-header" />
                    <line x1="0" y1="20" x2="120" y2="20" class="node-line" />
                    <line x1="0" y1="40" x2="120" y2="40" class="node-line" />
                    <line x1="40" y1="0" x2="40" y2="60" class="node-line" />
                    <line x1="80" y1="0" x2="80" y2="60" class="node-line" />
                    <!-- Data -->
                    <text x="20" y="15" text-anchor="middle" class="text-es">9</text>
                    <text x="60" y="15" text-anchor="middle">2</text>
                    <text x="100" y="15" text-anchor="middle" class="text-ef">11</text>
                    <text x="60" y="35" text-anchor="middle" class="text-name">H</text>
                    <text x="20" y="55" text-anchor="middle" class="text-ls">11</text>
                    <text x="60" y="55" text-anchor="middle">2</text>
                    <text x="100" y="55" text-anchor="middle" class="text-lf">13</text>
                </g>

                <!-- NODE G (CRITICAL) -->
                <g transform="translate(550, 270)" class="critical-node">
                    <rect x="0" y="0" width="120" height="60" class="node-rect" />
                    <rect x="0" y="20" width="120" height="20" class="node-header" />
                    <line x1="0" y1="20" x2="120" y2="20" class="node-line" />
                    <line x1="0" y1="40" x2="120" y2="40" class="node-line" />
                    <line x1="40" y1="0" x2="40" y2="60" class="node-line" />
                    <line x1="80" y1="0" x2="80" y2="60" class="node-line" />
                    <!-- Data -->
                    <text x="20" y="15" text-anchor="middle" class="text-es">10</text>
                    <text x="60" y="15" text-anchor="middle">3</text>
                    <text x="100" y="15" text-anchor="middle" class="text-ef">13</text>
                    <text x="60" y="35" text-anchor="middle" class="text-name critical-text">G</text>
                    <text x="20" y="55" text-anchor="middle" class="text-ls">10</text>
                    <text x="60" y="55" text-anchor="middle" class="critical-text">0</text>
                    <text x="100" y="55" text-anchor="middle" class="text-lf">13</text>
                </g>

            </svg>
        </div>

        <div style="margin-top: 20px; background: #fff5f5; border: 1px solid #e74c3c; padding: 15px; border-radius: 8px;">
            <strong style="color: #c0392b;">Result:</strong>
            <ul style="margin-bottom: 0;">
                <li>The activities with <strong>Float = 0</strong> are F and G.</li>
                <li><strong>Critical Path:</strong> Start → F → G → Finish.</li>
                <li>Any delay in F or G will delay the entire project.</li>
            </ul>
        </div>

    </div>

</body>
</html>
